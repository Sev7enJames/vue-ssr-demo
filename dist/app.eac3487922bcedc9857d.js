(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{10:function(t,n,a){var e=a(46);if(typeof e==="string")e=[[t.i,e,""]];if(e.locals)t.exports=e.locals;var i=a(6).default;var r=i("43cd1716",e,true,{})},21:function(t,n,a){"use strict";var e=a(7);var i=a.n(e);var r=i.a},22:function(t,n,a){n=t.exports=a(4)(false);n.push([t.i,"header[data-v-7581ac9a] {\n  height: 70px;\n  background: #444;\n  position: relative;\n}\nheader img[data-v-7581ac9a] {\n  width: 150px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n}\n",""])},23:function(t,n,a){"use strict";var e=a(8);var i=a.n(e);var r=i.a},24:function(t,n,a){n=t.exports=a(4)(false);n.push([t.i,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nbody {\n  background: #eee;\n}\n#main {\n  width: 1200px;\n  margin: 0 auto;\n  background: #fff;\n}\nli {\n  list-style: none;\n}\n",""])},43:function(t,n,a){"use strict";var e=a(9);var i=a.n(e);var r=i.a},44:function(t,n,a){n=t.exports=a(4)(false);n.push([t.i,".ul_box[data-v-7f4fd73f] {\n  margin-top: 25px;\n}\n.one_article[data-v-7f4fd73f] {\n  height: 50px;\n  line-height: 50px;\n  padding: 0 20px 0 80px;\n  border-bottom: 1px solid #ccc;\n  list-style: none;\n  background: #fff;\n  font-size: 14px;\n  position: relative;\n}\n.one_article p[data-v-7f4fd73f] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.one_article .count[data-v-7f4fd73f] {\n  font-size: 12px;\n  display: inline-block;\n  width: 120px;\n}\n.user_img[data-v-7f4fd73f] {\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  top: 50%;\n  left: 20px;\n  transform: translateY(-50%);\n}\n.btn_box[data-v-7f4fd73f] {\n  width: 240px;\n  margin: 20px auto;\n}\n.btn_box[data-v-7f4fd73f]:after {\n  content: '';\n  display: block;\n  clear: both;\n}\n.page_btn[data-v-7f4fd73f] {\n  width: 100px;\n  height: 40px;\n  margin: 0 10px;\n  line-height: 40px;\n  font-size: 14px;\n  text-align: center;\n  color: #80bd01;\n  background: #fff;\n  float: left;\n  cursor: pointer;\n}\n",""])},45:function(t,n,a){"use strict";var e=a(10);var i=a.n(e);var r=i.a},46:function(t,n,a){n=t.exports=a(4)(false);n.push([t.i,".article_box[data-v-363b38f1] {\n  border-bottom: 1px solid #ccc;\n}\n.article_tit[data-v-363b38f1] {\n  font-size: 30px;\n  height: 50px;\n  line-height: 50px;\n  padding: 10px 50px;\n}\n/* 重置html样式 */\n.content[data-v-363b38f1] {\n  padding: 50px;\n}\n.content img[data-v-363b38f1],\n.reply_ul .reply_content img[data-v-363b38f1] {\n  display: block;\n  margin: 50px auto;\n  max-width: 100%;\n}\n.content a[data-v-363b38f1],\n.reply_ul a[data-v-363b38f1] {\n  color: #08c;\n  text-decoration: none;\n}\n.content p[data-v-363b38f1],\n.content li[data-v-363b38f1],\n.reply_ul p[data-v-363b38f1],\n.reply_ul li[data-v-363b38f1] {\n  line-height: 35px;\n  font-size: 16px;\n}\n.reply_tit[data-v-363b38f1] {\n  font-size: 20px;\n  height: 40px;\n  line-height: 40px;\n  padding-left: 20px;\n  font-weight: 700;\n}\n.reply_ul li[data-v-363b38f1] {\n  overflow: hidden;\n  border-bottom: 1px solid #eee;\n  padding: 20px 0;\n}\n.userimg[data-v-363b38f1] {\n  width: 100px;\n  height: 100%;\n  float: left;\n}\n.userimg img.img[data-v-363b38f1] {\n  width: 40px;\n  height: 40px;\n  display: block;\n  margin: 0 auto;\n}\n.reply_content[data-v-363b38f1] {\n  margin-left: 100px;\n}\n",""])},49:function(t,n,a){"use strict";a.r(n);var e=a(1);var i=function(){var t=this;var n=t.$createElement;var a=t._self._c||n;return a("div",{attrs:{id:"app"}},[a("Head"),t._v(" "),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("main",{attrs:{id:"main"}},[a("router-view",{staticClass:"view"})],1)])],1)};var r=[];var o=function(){var t=this;var n=t.$createElement;var a=t._self._c||n;return a("header",[a("img",{attrs:{src:"https://o4j806krb.qnssl.com/public/images/cnodejs_light.svg",alt:"cnodeJs"},on:{click:t.goHome}})])};var s=[];var c={name:"Head",data:function t(){return{}},computed:{},created:function t(){},mounted:function t(){},methods:{goHome:function t(){window.location.href="/"}},components:{}};var l=c;var f=a(21);var u=a(2);var d=Object(u["a"])(l,o,s,false,null,"7581ac9a",null);var p=d.exports;var v={name:"app",data:function t(){return{}},computed:{},mounted:function t(){},methods:{test:function t(){}},components:{Head:p}};var h=v;var g=a(23);var _=Object(u["a"])(h,i,r,false,null,null,null);var m=_.exports;var x=a(11);var b=function(){var a=this;var t=a.$createElement;var e=a._self._c||t;return e("div",[e("ul",{staticClass:"ul_box"},a._l(a.lists,function(n,t){return e("li",{key:t,staticClass:"one_article",on:{click:function(t){return a.goArticle(n.id)}}},[e("img",{staticClass:"user_img",attrs:{src:n.author.avatar_url,alt:""}}),a._v(" "),e("p",[e("span",{staticClass:"count"},[a._v("评论:"+a._s(n.reply_count)+" 阅读:"+a._s(n.visit_count))]),a._v(" \n\t\t\t\t"),e("span",[a._v(a._s(n.title))])])])}),0),a._v(" "),e("div",{staticClass:"btn_box"},[e("div",{staticClass:"page_btn",on:{click:function(t){return a.pageChange("prev")}}},[a._v("上一页")]),a._v(" "),e("div",{staticClass:"page_btn",on:{click:function(t){return a.pageChange("next")}}},[a._v("下一页")])]),a._v(" "),e("h1",{staticStyle:{"text-align":"center"}},[a._v("不需要SSR的数据-》"+a._s(a.test.length))])])};var y=[];var w=a(3);var C=a.n(w);var k={asyncData:function t(n,a){return n.dispatch("fetchLists",{page:1})},name:"home",data:function t(){return{page:1,test:[]}},computed:{lists:function t(){return this.$store.getters.getLists}},mounted:function t(){var n=this;C.a.get("https://cnodejs.org/api/v1/topics?tab=ask").then(function(t){console.warn("mounted",t.data);n.test=t.data.data})},methods:{pageChange:function t(n){if(n=="prev"&&this.page==1){return}if(n=="prev"){this.page--}else{this.page++}this.$store.dispatch("fetchLists",{page:this.page})},goArticle:function t(n){this.$router.push({path:"/detail",query:{id:n}})}},components:{}};var $=k;var L=a(43);var j=Object(u["a"])($,b,y,false,null,"7f4fd73f",null);var D=j.exports;var E=function(){var a=this;var t=a.$createElement;var e=a._self._c||t;return e("div",[e("div",{staticClass:"article_box"},[e("div",{staticClass:"article_tit"},[a._v(a._s(a.article.title))]),a._v(" "),e("div",{staticClass:"content",domProps:{innerHTML:a._s(a.article.content)}})]),a._v(" "),e("div",{staticClass:"reply_box"},[e("div",{staticClass:"reply_tit"},[a._v("回复")]),a._v(" "),e("ul",{staticClass:"reply_ul"},a._l(a.article.replies,function(t,n){return e("li",[e("div",{staticClass:"userimg"},[e("img",{staticClass:"img",attrs:{src:t.author.avatar_url,alt:""}})]),a._v(" "),e("div",{staticClass:"reply_content"},[e("div",{staticClass:"username"},[a._v(a._s(t.author.loginname))]),a._v(" "),e("div",{domProps:{innerHTML:a._s(t.content)}})])])}),0)])])};var T=[];var z={asyncData:function t(n,a){var e=a.query.id;console.log(e);return n.dispatch("fetchDetail",{id:e})},name:"detail",data:function t(){return{}},computed:{article:function t(){return this.$store.getters.getDetail}},beforeMount:function t(){},mounted:function t(){},methods:{},components:{}};var H=z;var S=a(45);var A=Object(u["a"])(H,E,T,false,null,"363b38f1",null);var I=A.exports;e["default"].use(x["default"]);function O(){return new x["default"]({mode:"history",scrollBehavior:function(){return{y:0}},routes:[{path:"/",component:D},{path:"/detail",component:I}]})}var R=a(12);e["default"].use(R["default"]);var q={lists:[],detail:{}};var J={fetchLists:function t(n,a){var e=n.commit;return C.a.get("https://cnodejs.org/api/v1/topics?page="+a.page).then(function(t){if(t.data.success){e("setLists",t.data.data)}})},fetchDetail:function t(n,a){var e=n.commit;return C.a.get("https://cnodejs.org/api/v1/topic/"+a.id).then(function(t){if(t.data.success){e("setDetail",t.data.data)}})}};var M={setLists:function t(n,a){n.lists=a},setDetail:function t(n,a){n.detail=a}};var N={getLists:function(t){return t.lists},getDetail:function(t){return t.detail}};function P(){return new R["default"].Store({state:q,actions:J,mutations:M,getters:N})}var B=a(20);var Y=O();var F=P();Object(B["sync"])(F,Y);var G=new e["default"]({router:Y,store:F,render:function(t){return t(m)}});e["default"].mixin({beforeRouteEnter:function t(n,a,e){console.log("beforeRouteEnter");e(function(t){var n=t.$options;var a=n.asyncData;if(a){a(t.$store,t.$route).then(e).catch(e)}else{e()}})}});if(window.__INITIAL_STATE__){F.replaceState(window.__INITIAL_STATE__)}Y.onReady(function(){G.$mount("#app")})},7:function(t,n,a){var e=a(22);if(typeof e==="string")e=[[t.i,e,""]];if(e.locals)t.exports=e.locals;var i=a(6).default;var r=i("3f17c75f",e,true,{})},8:function(t,n,a){var e=a(24);if(typeof e==="string")e=[[t.i,e,""]];if(e.locals)t.exports=e.locals;var i=a(6).default;var r=i("6b384136",e,true,{})},9:function(t,n,a){var e=a(44);if(typeof e==="string")e=[[t.i,e,""]];if(e.locals)t.exports=e.locals;var i=a(6).default;var r=i("00c6911b",e,true,{})}},[[49,1,2]]]);
//# sourceMappingURL=app.eac3487922bcedc9857d.js.map